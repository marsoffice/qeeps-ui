<mat-toolbar>
  <button *ngIf="isMobile && user != null" mat-icon-button (click)="toggleSidenav()">
    <mat-icon>menu</mat-icon>
  </button>
  <img id="logo" routerLink="/" src="/assets/images/logo.svg" [style]="{width: isMobile ? '54px' : null}" />
  <div class="h-100" fxHide.xs>
    <button [matMenuTriggerFor]="reportMenu" mat-button routerLinkActive="mat-accent" color="" class="h-100">
      <mat-icon>insert_drive_file</mat-icon>{{'ui.header.report' | translate}}
    </button>

    <button [matMenuTriggerFor]="payMenu"  mat-button routerLinkActive="mat-accent" color="" class="h-100">
      <mat-icon>credit_score</mat-icon>{{'ui.header.payments' | translate}}
    </button>


    <button [matMenuTriggerFor]="formsMenu"  mat-button routerLinkActive="mat-accent" color="" class="h-100">
      <mat-icon>calendar_view_month</mat-icon>{{'ui.header.forms' | translate}}
    </button>

    <button [matMenuTriggerFor]="adminMenu"  mat-button routerLinkActive="mat-accent" color="" class="h-100">
      <mat-icon>admin_panel_settings</mat-icon>{{'ui.header.ownerAdmin' | translate}}
    </button>




  </div>
  <span fxFlex></span>
  <img id="avatar" *ngIf="user != null && photo != null" [src]="photo" [matMenuTriggerFor]="userMenu"/>
  <button *ngIf="user == null || photo == null" [matMenuTriggerFor]="userMenu" mat-icon-button>
    <mat-icon *ngIf="user == null">more_vert</mat-icon>
    <mat-icon *ngIf="user != null && photo == null">account_circle</mat-icon>
  </button>
</mat-toolbar>

<mat-menu #userMenu="matMenu">
  <button mat-menu-item routerLink="/profile" *ngIf="user"><mat-icon>person</mat-icon>{{user.name}}</button>
  <button mat-menu-item [matMenuTriggerFor]="langMenu"><mat-icon>language</mat-icon>{{'ui.header.language' | translate}}</button>
  <button routerLink="/" *ngIf="!user" mat-menu-item><mat-icon>login</mat-icon>{{'ui.header.login' | translate}}</button>
  <button *ngIf="user" mat-menu-item (click)="logout()"><mat-icon>logout</mat-icon>{{'ui.header.logout' | translate}}</button>
</mat-menu>
<mat-menu #langMenu="matMenu">
  <button (click)="changeLanguage(lang)" [class.bold]="lang === translateService.currentLang" mat-menu-item *ngFor="let lang of languages"><mat-icon>translate</mat-icon>{{'ui.header.languages.' + lang | translate}}</button>
</mat-menu>


<mat-menu #reportMenu="matMenu">
  <div class="d-flex flex-column align-items-start" >
  <button routerLink="/create-report" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
    <mat-icon>add_circle_outline</mat-icon> {{'ui.header.createReport' | translate}}
  </button>
  <button routerLink="/report-history" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
    <mat-icon>history</mat-icon> {{'ui.header.reportHistory' | translate}}
  </button>
</div>
</mat-menu>

<mat-menu #payMenu="matMenu">
<div class="d-flex flex-column align-items-start" >
  <button routerLink="/my-invoices" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
    <mat-icon>account_balance</mat-icon> {{'ui.header.myInvoices' | translate}}
  </button>
  <button routerLink="/admin-prices" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
    <mat-icon>money</mat-icon> {{'ui.header.adminPrices' | translate}}
  </button>
  <button routerLink="/admin-invoices" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
    <mat-icon>receipt</mat-icon> {{'ui.header.adminInvoices' | translate}}
  </button>
  <button routerLink="/payment-settings" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
    <mat-icon>settings_suggest</mat-icon> {{'ui.header.settings' | translate}}
  </button>
</div>
</mat-menu>


<mat-menu #formsMenu="matMenu">
  <div class="d-flex flex-column align-items-start" >
    <button routerLink="/forms-calendar" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
      <mat-icon>calendar_today</mat-icon> {{'ui.header.formsCalendar' | translate}}
    </button>
    <button routerLink="/forms-list" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
      <mat-icon>format_list_bulleted</mat-icon> {{'ui.header.formsList' | translate}}
    </button>
    <button routerLink="/forms-admin" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
      <mat-icon>reorder</mat-icon> {{'ui.header.formsAdmin' | translate}}
    </button>
    <button routerLink="/forms-add" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
      <mat-icon>add</mat-icon> {{'ui.header.formsAdd' | translate}}
    </button>
  </div>
  </mat-menu>

  <mat-menu #adminMenu="matMenu">
    <div class="d-flex flex-column align-items-start" >
      <button routerLink="/admin-pc" mat-button routerLinkActive="mat-accent" color="" class="w-100 text-start" >
        <mat-icon>gavel</mat-icon> {{'ui.header.adminPc' | translate}}
      </button>
    </div>
    </mat-menu>

